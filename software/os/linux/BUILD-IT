export CROSS_COMPILE=/opt/riscv-elf-gcc/bin/riscv64-unknown-linux-gnu-

rm -rf vmlinux

git clone --recursive https://github.com/torvalds/linux

cd linux
make ARCH=riscv mrproper defconfig
make ARCH=riscv defconfig
make ARCH=riscv all

cp vmlinux ..
cd ..
rm -rf linux
